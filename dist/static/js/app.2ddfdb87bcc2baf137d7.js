webpackJsonp([17],{0:function(t,e){},"1WNi":function(t,e){},"26DW":function(t,e){},"2Uyi":function(t,e,n){"use strict";n("vgQg");e.a={ossUrl:"http://ask.dxytg.com"}},"4ml/":function(t,e){},"5jRo":function(t,e,n){"use strict";var i=n("uXeI"),a={methods:{getBroswerInfo:function(){var t=navigator.userAgent.toLowerCase();return{isWechat:"micromessenger"==t.match(/MicroMessenger/i),isApp:"mitao"==t.match(/mitao/i)}},createNoncestr:function(t){t=Number(t)||16;for(var e="",n=0;n<t;n++)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".substr(Math.round(10*Math.random()),1);return e},createWxShareConfig:function(t,e,n,a){var o=a.split("#")[0],r=parseInt((new Date).getTime()/1e3),s=this.createNoncestr();return{appids:t,timestamp:r,noncestr:s,sign:i("jsapi_ticket="+e+"&noncestr="+s+"&timestamp="+r+"&url="+o),wximgurl:n}},wxShare:function(t,e,n){t&&e&&n?(t.config({debug:!1,appId:e.appids,timestamp:e.timestamp,nonceStr:e.noncestr,signature:e.sign,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),t.ready(function(){t.onMenuShareAppMessage({title:n.title,desc:n.desc,link:n.links,imgUrl:n.wximgurl,success:function(){},cancel:function(){}}),t.onMenuShareTimeline({title:n.title,link:n.links,imgUrl:n.wximgurl,success:function(){},cancel:function(){}})}),t.error(function(t){console.log(t)})):console.error("微信分享传入配置参数错误")},wxPay:function(t,e,n,i,a){t&&e?(n=n||new Function,i=i||new Function,a=a||new Function,t.config({debug:!1,appId:e.appId,timestamp:e.timeStamp,nonceStr:e.nonceStr,signature:e.signType,jsApiList:["chooseWXPay"]}),t.chooseWXPay({appId:e.appId,timestamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign,success:n,cancel:i}),t.error(a)):console.error("微信分享传入配置参数错误")}}};e.a=a},"7IJS":function(t,e){},EDgR:function(t,e){!function(t,e){function n(){var e=o.getBoundingClientRect().width;e/c>540&&(e=540*c);var n=e/10;o.style.fontSize=n+"px",l.rem=t.rem=n}var i,a=t.document,o=a.documentElement,r=a.querySelector('meta[name="viewport"]'),s=a.querySelector('meta[name="flexible"]'),c=0,u=0,l=e.flexible||(e.flexible={});if(r){console.warn("将根据已有的meta标签来设置缩放比例");var p=r.getAttribute("content").match(/initial\-scale=([\d\.]+)/);p&&(u=parseFloat(p[1]),c=parseInt(1/u))}else if(s){var m=s.getAttribute("content");if(m){var d=m.match(/initial\-dpr=([\d\.]+)/),h=m.match(/maximum\-dpr=([\d\.]+)/);d&&(c=parseFloat(d[1]),u=parseFloat((1/c).toFixed(2))),h&&(c=parseFloat(h[1]),u=parseFloat((1/c).toFixed(2)))}}if(!c&&!u){var f=(t.navigator.appVersion.match(/android/gi),t.navigator.appVersion.match(/iphone/gi)),g=t.devicePixelRatio;u=1/(c=f?g>=3&&(!c||c>=3)?3:g>=2&&(!c||c>=2)?2:1:1)}if(o.setAttribute("data-dpr",c),!r)if((r=a.createElement("meta")).setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+u+", maximum-scale="+u+", minimum-scale="+u+", user-scalable=no"),o.firstElementChild)o.firstElementChild.appendChild(r);else{var v=a.createElement("div");v.appendChild(r),a.write(v.innerHTML)}t.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(n,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(i),i=setTimeout(n,300))},!1),"complete"===a.readyState?a.body.style.fontSize=12*c+"px":a.addEventListener("DOMContentLoaded",function(){a.body.style.fontSize=12*c+"px"},!1),n(),l.dpr=t.dpr=c,l.refreshRem=n,l.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},l.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={})),function(){var t="@charset \"utf-8\";html{overflow-y:scroll;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}html *{outline:0;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}html,body{font-family:sans-serif}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td,hr,button,article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{margin:0;padding:0}input,select,textarea{font-size:100%}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}abbr,acronym{border:0;font-variant:normal}del{text-decoration:line-through}address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:500}ol,ul{list-style:none}caption,th{text-align:left}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:500}q:before,q:after{content:''}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}a:hover{text-decoration:underline}ins,a{text-decoration:none}",e=document.createElement("style");if(document.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch(n){e.innerText=t}}()},MXkr:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("ECII"),a=n.n(i),o=n("5jRo"),r=(n("2Uyi"),n("vgQg")),s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.navigatorVisible?n("nav",{attrs:{id:"nav"}},[n("router-link",{staticClass:"nav nav-index",attrs:{to:"/index"}},[t._v("主页")]),t._v(" "),n("router-link",{staticClass:"nav nav-answer",attrs:{to:"/answer"}},[t._v("答题")]),t._v(" "),n("router-link",{staticClass:"nav nav-learn",attrs:{to:"/learn"}},[t._v("学习")]),t._v(" "),n("router-link",{staticClass:"nav nav-rank",attrs:{to:"/rank"}},[t._v("排行榜")]),t._v(" "),n("router-link",{staticClass:"nav nav-home",attrs:{to:"/home"}},[t._v("我")])],1):t._e()},staticRenderFns:[]};var c={name:"App",components:{navBottom:n("VU/8")({name:"navBottom",props:{},data:function(){return{navigatorVisible:this.$store.state.navigatorVisible}},created:function(){},watch:{"$store.state.navigatorVisible":function(t,e){this.navigatorVisible=t}}},s,!1,function(t){n("7IJS")},null,null).exports},mixins:[o.a],data:function(){return{whiteList:["/","/game_pk","/game_unlimited","/game_level","/mycase","/article","/caseDetail","/reply","/share","/lucky"],username:"",weixinid:"",wxConfig:{}}},created:function(){this.init(),this.getWxConfig()},methods:{init:function(){this.checkUrlPath(this.$route),this.getUserInfo()},getWxConfig:function(){var t=this;this.$api.getWxConfig({url:location.href}).then(function(e){1==e.code&&(t.wxConfig=e.data,t.wxConfig.jsApiList=["playVoice","pauseVoice","stopVoice","onVoicePlayEnd"],t.wxConfig.debug="true",t.$store.state.wxConfig=t.wxConfig,t.$wx.config(t.wxConfig))})},getUserInfo:function(){var t=this;this.$api.getUserInfo().then(function(e){1==e.code&&t.$store.dispatch("updateUserInfo",e.data)})},bindHomerId:function(){var t=this;this.$api.bindHomerId({username:this.username,weixinid:this.$store.state.openid}).then(function(e){1==e.code?(t.$popup("操作成功"),t.$store.dispatch("login",""),window.openid=""):t.$popup(e.msg)})},checkUrlPath:function(t){this.whiteList.indexOf(t.path)>-1?this.$store.dispatch("increment",!1):this.$store.dispatch("increment",!0),this.$forceUpdate()}},watch:{$route:function(t,e){this.checkUrlPath(t)}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"main"}},[n("router-view",{staticClass:"child-view",attrs:{id:"child-view"}})],1),t._v(" "),t.$store.state.openid?n("div",{staticClass:"login-layer"},[n("div",{staticClass:"login-layer-bg",on:{click:function(e){t.$store.state.openid=""}}}),t._v(" "),n("div",{staticClass:"login-layer-form"},[n("h1",[t._v("绑定人事ID")]),t._v(" "),t._e(),t._v(" "),n("div",{staticClass:"lofin-form-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"number",name:"homeid",placeholder:"人事ID"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"login-form-btn",on:{click:t.bindHomerId}},[t._v("确认")])])]):t._e(),t._v(" "),n("nav-bottom")],1)},staticRenderFns:[]};var l=n("VU/8")(c,u,!1,function(t){n("NV6U")},null,null).exports,p=n("/ocq");a.a.use(p.a);var m=[{path:"/",name:"Knowledge Game",component:function(t){return n.e(4).then(function(){var e=[n("bWex")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/index",name:"Knowledge Game",component:function(t){return n.e(8).then(function(){var e=[n("dAjm")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/answer",name:"答题",component:function(t){return n.e(11).then(function(){var e=[n("QsFq")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/home",name:"个人中心",component:function(t){return n.e(9).then(function(){var e=[n("wUZA")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/rank",name:"排行榜",component:function(t){return n.e(7).then(function(){var e=[n("wrZl")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/game_pk",name:"答题",component:function(t){return Promise.all([n.e(0),n.e(15)]).then(function(){var e=[n("085P")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/game_unlimited",name:"答题",component:function(t){return Promise.all([n.e(0),n.e(13)]).then(function(){var e=[n("5YdR")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/game_level",name:"答题",component:function(t){return Promise.all([n.e(0),n.e(14)]).then(function(){var e=[n("KIo0")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/mycase",name:"我的案例",component:function(t){return n.e(3).then(function(){var e=[n("7S+o")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/learn",name:"训练营",component:function(t){return n.e(2).then(function(){var e=[n("UOcd")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/article",name:"训练营",component:function(t){return n.e(1).then(function(){var e=[n("Xt6H")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/caseDetail",name:"训练营",component:function(t){return n.e(10).then(function(){var e=[n("57sx")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/reply",name:"留言反馈",component:function(t){return n.e(6).then(function(){var e=[n("Wkgs")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/share",name:"我要分享",component:function(t){return n.e(5).then(function(){var e=[n("Eg0l")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/lucky",name:"积分抽奖",component:function(t){return n.e(12).then(function(){var e=[n("kluF")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],d=new p.a({routes:m.map(function(t){return t.beforeEnter=function(t,e,n){document.title=t.name,n()},t}),scrollBehavior:function(t,e,n){return n||(e.meta.keepAlive&&(e.meta.savedPosition=document.body.scrollTop),{x:0,y:t.meta.savedPosition||0})}}),h=n("bOdI"),f=n.n(h),g=n("NYxO");a.a.use(g.a);var v=new g.a.Store(f()({state:{navigatorVisible:!1,openid:"",userInfo:{},wxConfig:{}},actions:{navigatorTrigger:function(){console.log(arguments)}},mutations:{increment:function(t,e){t.navigatorVisible=e},login:function(t,e){t.openid=e},updateUserInfo:function(t,e){t.userInfo=e}}},"actions",{increment:function(t,e){t.commit("increment",e)},login:function(t,e){t.commit("login",e)},updateUserInfo:function(t,e){t.commit("updateUserInfo",e)}})),b=n("iqGf"),y=n.n(b),x=n("//Fk"),w=n.n(x),C=n("mtWM"),k=n.n(C),_=n("mw3O"),j=n.n(_);var $=k.a.create({baseURL:r.a.apiHost,crossDomain:!0,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},params:{},timeout:6e4,transformRequest:function(t){return j.a.stringify(t)}});$.interceptors.request.use(function(t){return t},function(t){return console.log(t),w.a.reject(t)}),$.interceptors.response.use(function(t){return t.data});var I=k.a.create({baseURL:r.a.apiHost,crossDomain:!0,headers:{"Content-Type":"multipart/form-data"},params:{},timeout:6e4});I.interceptors.request.use(function(t){return"post"===r.a.method&&"/api/common/upload"!=r.a.url&&(r.a.data=j.a.stringify(r.a.data)),t},function(t){return w.a.reject(t)}),I.interceptors.response.use(function(t){return t.data});var S={answerBegin:function(t){return this.ajax("/api/answer/begin","post",t)},answerEnd:function(t){return this.ajax("/api/answer/end","post",t)},getQuestion:function(t){return this.ajax("/api/answer/get_question","post",t)},questionReply:function(t){return this.ajax("/api/answer/reply","post",t)},getLeaderBoard:function(t){return this.ajax("/api/leaderboard","get",t)},getArticleList:function(t){return this.ajax("/api/articlelearn/list","get",t)},getArticleDetail:function(t){return this.ajax("/api/articlelearn/item","get",t)},getCaseList:function(t){return this.ajax("/api/articlecase/list","get",t)},caseLike:function(t){return this.ajax("/api/articlecase/like","post",t)},myCase:function(t){return this.ajax("/api/articlecase/my","get",t)},getCaseDetail:function(t){return this.ajax("/api/articlecase/item","get",t)},getUserInfo:function(t){return this.ajax("/api/user/userinfo","get",t)},signup:function(t){return this.ajax("/api/user/checkin","post",t)},feedBack:function(t){return this.ajax("/api/user/feedback","post",t)},fetchPost:function(t){return this.formsubmit("/api/common/upload","post",t)},createCase:function(t){return this.ajax("/api/articlecase/create","post",t)},updateCase:function(t){return this.ajax("/api/articlecase/update","post",t)},bindHomerId:function(t){return this.ajax("/api/user/bindhomerid","post",t)},getPrizeList:function(t){return this.ajax("/api/turntable/goods","post",t)},toLottery:function(t){return this.ajax("/api/turntable/lottery","post",t)},getPrizeRecord:function(t){return this.ajax("/api/turntable/my_prize","get",t)},getWxConfig:function(t){return this.ajax("/api/user/weixin","get",t)},ajax:function(t,e,n){return"get"==e?$.get(t,{params:n}):$.post(t,n)},formsubmit:function(t,e,n){return"get"==e?I.get(t,{params:n}):I.post(t,n)}},U=n("fxnj"),E=n.n(U),T=n("Fd2+"),L=(n("EDgR"),n("MXkr"),n("4ml/"),n("26DW"),{data:function(){return{visible:!1,message:"",duration:2e3,onClose:null,showClose:!1,closed:!1,timer:null}},watch:{closed:function(t){t&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))}},mounted:function(){this.startTimer()}}),P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",[this.visible?e("div",{staticClass:"Popup"},[e("span",[this._v(this._s(this.message))])]):this._e()])},staticRenderFns:[]};var F=n("VU/8")(L,P,!1,function(t){n("1WNi")},null,null).exports,A=n("pFYg"),V=n.n(A),M=Object.prototype.hasOwnProperty;function R(t){return null!==t&&"object"===(void 0===t?"undefined":V()(t))&&(e=t,n="componentOptions",M.call(e,n));var e,n}var W=a.a.extend(F),D=void 0,N=[],q=1,z=function t(e,n,i){if(!a.a.prototype.$isServer){i="function"==typeof i?i:new Function;var o="message_"+q++,r={message:e,duration:Number(n)||2e3,onClose:function(){t.close(o,i)}};return(D=new W({data:r})).id=o,R(D.message)&&(D.$slots.default=[D.message],D.message=null),D.vm=D.$mount(),document.body.appendChild(D.vm.$el),D.vm.visible=!0,D.dom=D.vm.$el,N.push(D),D.vm}};z.close=function(t,e){for(var n=0,i=N.length;n<i;n++)if(t===N[n].id){"function"==typeof e&&e(N[n]),N.splice(n,1);break}};var H=z,O=function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.installed||(e.component(H.name,H),e.prototype.$popup=H)};"undefined"!=typeof window&&window.Vue&&O(window.Vue);var B={install:O,Popup:H};a.a.config.productionTip=!1,a.a.use(y.a),a.a.prototype.$http=$,a.a.prototype.$api=S,a.a.prototype.$wx=E.a,a.a.use(T.a),a.a.use(B),new a.a({el:"#app",router:d,store:v,components:{App:l},template:"<App/>"})},NV6U:function(t,e){},vgQg:function(t,e,n){"use strict";e.a={apiHost:""}}},["NHnr"]);
//# sourceMappingURL=app.2ddfdb87bcc2baf137d7.js.map