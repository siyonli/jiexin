webpackJsonp([2],{"7S+o":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={components:{caseList:i("g801").a},data:function(){return{caseList:[],page:1,pagesize:10,case_loading:!1,case_all_loaded:!1,isedit:!0}},created:function(){this.getCaseList()},methods:{caseScroll:function(){this.caseDom&&(this.articleDom.clientHeight+this.articleDom.scrollTop+50>=document.querySelector(".case-list").clientHeight&&!this.case_all_loaded&&!this.case_loading&&(this.page++,this.getCaseList()))},getCaseList:function(){var t=this;this.case_loading||this.case_all_loaded||(this.case_loading=!0,this.$api.myCase({page:this.page,pagesize:this.pagesize}).then(function(e){1==e.code?(1==t.case_page?t.caseList=e.data.list:t.caseList=t.caseList.concat(e.data.list),e.data.page*e.pagesize>=e.data.total&&(t.case_all_loaded=!0)):t.$popup(e.msg)}))}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{scroll:this.caseScroll}},[e("caseList",{attrs:{caseList:this.caseList,isedit:this.isedit}})],1)},staticRenderFns:[]};var c=i("VU/8")(s,a,!1,function(t){i("QO5T")},null,null);e.default=c.exports},QAab:function(t,e){},QO5T:function(t,e){},g801:function(t,e,i){"use strict";i("jCIP");var s=i("2Uyi"),a={name:"caseList",data:function(){return{baseUrl:s.a.ossUrl}},props:{caseList:{type:Array,default:[]},paddingBottom:{type:String,default:"0"},isedit:{type:Boolean,default:!1}},created:function(){},methods:{like:function(t){var e=this;this.$api.caseLike({id:t.id}).then(function(i){0==i.code?e.$set(t,"is_liked",i.data.is_liked):e.$popup(i.msg)})},toCaseDetail:function(t){this.$router.push({path:"/caseDetail",query:{id:t.id}})},editCase:function(t){this.$router.push({path:"/share",query:{id:t.id}})}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"case-list",style:{"padding-bottom":t.paddingBottom}},t._l(t.caseList,function(e,s){return i("li",{on:{click:function(i){return t.toCaseDetail(e)}}},[i("div",{staticClass:"case-item-flex"},[e.cover_image?i("div",{staticClass:"case-item-media"},[i("img",{attrs:{src:e.cover_image}})]):t._e(),t._v(" "),i("div",{staticClass:"case-item-title"},[t._v(t._s(e.title))])]),t._v(" "),i("div",{staticClass:"case-item-bottom"},[t.isedit?i("div",{staticClass:"case-item-owner",on:{click:function(i){return i.stopPropagation(),t.editCase(e)}}},[t._v("编辑")]):i("div",{staticClass:"case-item-owner"},[t._v("员工ID  "+t._s(e.user_name)+t._s(e.is_liked))]),t._v(" "),i("div",{class:["case-item-like","1"==e.is_liked?"like":""],on:{click:function(i){return i.stopPropagation(),t.like(e)}}})])])}),0)},staticRenderFns:[]};var n=i("VU/8")(a,c,!1,function(t){i("QAab")},null,null);e.a=n.exports},jCIP:function(t,e){}});
//# sourceMappingURL=2.9c48aa3a73023b3778fe.js.map